<% content_for :head do %>
  <meta name="turbolinks-visit-control" content="reload">
  <script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js" async defer></script>
<% end %>
<div class='song'>
  <div class='song_id p-2'>
    <h3 class= text-center><%= @song.name %></h3>
    <h4 class= text-center>Artist: <%= @song.artist %></h4>
    <h4 class= text-center>Album: <%= @song.album %></h4>
  </div>
  <div class='p5_canva' data-controller="sketch"
        data-sketch-duration-value="<%= @song.duration %>"
        data-sketch-key-value="<%= @song.key %>"
        data-sketch-mode-value="<%= @song.mode %>"
        data-sketch-tempo-value="<%= @song.tempo %>"
        data-sketch-time_signature-value="<%= @song.time_signature %>"
        data-sketch-loudness-value="<%= @song.loudness %>">
  </div>
</div>

<%= simple_form_for [@song, @like] do |f| %>
  <%= button_tag type: 'submit', class: "button postfix" do %>
    <i class="like-button fas fa-heart"></i>
    <% link_to dashboard_path %>
  <% end %>
<% end %>
